<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2c3e50">
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0074D9" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <title>SDA Hymnal</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
  <h1>SDA Hymnal</h1>
  <div class="top-bar">
    <input type="text" id="search" placeholder="Search hymn by title or number..." />

    <div class="nav-buttons">
      <button onclick="goHome()">Home</button>
      <button onclick="goAbout()">About</button>
    </div>

    <div class="theme-toggle">
        <label>
        <input type="checkbox" id="darkModeToggle" />
        Dark Mode
        </label>
    </div>
  </div>
</header>

  <main id="hymn-list"></main>

  <footer class="app-footer">
    <div class="footer-content">
      <img src="images/logo/sda-logo.png" alt="SDA Logo" class="footer-logo" />
      <p>&copy; 2025 Philippine Edition Seventh-Day Adventist Hymnal Web App</p>
    </div>
  </footer>

  <script src="app.js"></script>
  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js', { scope: './' })
      .then(reg => console.log('Service Worker registered:', reg))
      .catch(err => console.error('Service Worker registration failed:', err));
  }
</script>
<script>
  // Preload hymns.json on page load
  window.addEventListener('load', async () => {
    const res = await fetch('hymns.json');
    hymnsData = await res.json();
  });
</script>

<div id="offline-banner" style="
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #ffcc00;
  color: #333;
  text-align: center;
  padding: 10px;
  font-weight: bold;
  box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
  z-index: 1000;
">
  You’re offline — hymns are still available.
</div>

<div id="update-banner" style="
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #4caf50;
  color: white;
  text-align: center;
  padding: 12px;
  font-weight: bold;
  box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
  z-index: 1000;
  transform: translateY(100%);
  transition: transform 0.4s ease;
">
  New version available. <button id="refresh-btn" style="
    margin-left: 10px;
    background: white;
    color: #4caf50;
    border: none;
    padding: 6px 12px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 4px;
  ">Refresh</button>
</div>
</body>
</html>